# 幻獣闘技 SPA 仕様メモ

本ドキュメントは、アプリ内で実装している「幻獣闘技」ボードゲームの主要ルール・画面構成・進行手順を整理したものです。実装時の参照用に短くまとめています。

## 画面構成

- **メインボード**: 6×5 グリッド (A1〜E6)。ユニット配置や移動時にハイライト表示。
- **サイコロ置き場**: R1〜R3 の3スロット。ステップ6で銀→銀→金の順で配置。
- **プレイヤーパネル**: 各プレイヤーの残り兵種、カード枚数、エネルギートークン(T1〜T3) を表示。
- **情報パネル**: 現在の手順(1〜16)と対象プレイヤー、進行ボタン。
- **モーダル**: 先行決定、ユニット作成/配置、アクション選択、ダイス再配置、ユニット入れ替え、ダイス演出など。

## 進行手順

1. **手順1: 先行決定** – プレイヤー名を入力し、ラジオボタンで先行を選択。
2. **手順2〜5: 作戦フェーズ** – 指示回数分、ユニット作成→配置。配置前ユニットが無い場合は入れ替えモードへ。
3. **手順6: サイコロ配置** – R1〜R3 へ銀×2・金×1 を順に配置。
4. **手順7〜16: 行動フェーズ** – 先行/後攻で以下を繰り返す。
   - エネルギー消費決定 (通常/作戦/起死回生)
   - アクション処理: サイコロを投げ、兵種別移動可能数を得てユニット移動。
   - 作戦・起死回生後は指定のサイコロ再配置。
   - 勝利判定。どちらかの兵種残数が 0 で敗北。

## サイコロ演出

- 銀/金ダイスの面には「剣(士)」、「魔(術師)」、「策(士)」を表示。
- ダイスが停止後、上向き面を解析し出目を決定。


## 行動種別

- **通常アクション**: R1 のサイコロでダイスロール。処理後 R2→R1, R3→R2, R1→R3 と移動。出目に応じてユニットを移動。
- **作戦アクション**: R1, R2 の2個で判定。両銀のときは次ラウンドで金を R1 に移動。出目に応じてユニット１つを移動。
- **起死回生**: 全サイコロを使用。結果に応じてサイコロ再配置を行う。出目に応じてユニッ2１つを移動。

## エネルギーと勝利条件

- 各プレイヤーは最大 3 のエネルギートークンを持つ。策士移動やユニット除外で増加。
- 策士/魔術師/剣士残数のいずれかが 0 になると即敗北。

---
このメモは仕様の抜粋です。詳細は実装 (`src/App.tsx` など) を参照してください。
